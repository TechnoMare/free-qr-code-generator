import{f as L,j as V,r as v,o as g,c as n,a as o,d as m,t as c,n as l,B as b,l as q,x as M,F as f,m as N,q as h,y as _,s as y,T as O}from"./entry.VC833E2J.js";import{r as k}from"./index.DYcylpL8.js";import{u as R}from"./index.CK6hgZyY.js";import"./_commonjsHelpers.Cpj98o6Y.js";const T=["/logo/zoom.svg","/logo/youtube.svg","/logo/x.svg","/logo/wikipedia.svg","/logo/wifi.svg","/logo/whatsapp.svg","/logo/wechat.svg","/logo/vkontakte.svg","/logo/vimeo.svg","/logo/user-red.svg","/logo/user-black.svg","/logo/twitter.svg","/logo/twitch.svg","/logo/tripadvisor.svg","/logo/tiktok.svg","/logo/telegram.svg","/logo/spotify.svg","/logo/speaker.svg","/logo/soundcloud.svg","/logo/snapchat.svg","/logo/skype.svg","/logo/shopify.svg","/logo/recycle.svg","/logo/play.svg","/logo/pinterest.svg","/logo/pin.svg","/logo/phone.svg","/logo/pdf.svg","/logo/paypal.svg","/logo/linkedin.svg","/logo/line.svg","/logo/issuu.svg","/logo/instagram_black.svg","/logo/instagram.svg","/logo/info.svg","/logo/id-card.svg","/logo/headphones.svg","/logo/happy.svg","/logo/googlemaps.svg","/logo/googledrive.svg","/logo/facebook_messenger.svg","/logo/facebook_black.svg","/logo/facebook.svg","/logo/emosunglasses.svg","/logo/emophone.svg","/logo/emomusic.svg","/logo/emolove.svg","/logo/emohappy.svg","/logo/dropbox.svg","/logo/businesscard.svg","/logo/bitcoin.svg","/logo/apps.svg","/logo/applepodcast.svg","/logo/apple.svg","/logo/amazon.svg"],j=o("i",{class:"bi bi-image-fill"},null,-1),D={class:"modal-box max-w-2xl w-3/4"},Q=o("form",{method:"dialog"},[o("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"âœ•")],-1),U={class:"text-lg font-medium mb-4"},E={class:"left grid gap-1 grid-cols-6 flex-none max-h-80 overflow-auto w-2/3"},W=["value"],$=["alt","src"],A={class:"right flex-1 p-4 bg-base-200"},G={key:0,class:"cursor-pointer"},H=["value"],J=["src"],K={key:1,class:"bi bi-image-fill text-2xl"},P={class:"btn btn-secondary btn-block cursor-pointer"},X={class:"label-text"},Y=o("i",{class:"bi bi-image-fill mr-2"},null,-1),Z={class:"modal-action"},oo=["disabled"],so={key:0,class:"loading loading-spinner"},lo={key:1,class:"bi bi-check-lg"},eo=o("form",{class:"modal-backdrop",method:"dialog"},[o("button",null,"close")],-1),io=L({__name:"image-picker",props:{buttonClass:{default:""}},setup(x){const w=x,{t:r}=V(),p=R(),d=v(),u=v(!1),i=v(),e=v(p.qrcodeConfig.logo);function C(){var s;(s=d.value)==null||s.showModal()}async function B(){var a;let s=e.value;if(!s.startsWith("data:")){u.value=!0;const t=await $fetch(s);s=await k(t),u.value=!1}p.setQrcodeConfig({logo:s}),(a=d.value)==null||a.close()}function I(){var s;e.value="",p.setQrcodeConfig({logo:""}),(s=d.value)==null||s.close()}async function S(s){var t;const a=(t=s.target.files)==null?void 0:t[0];a&&(i.value=await k(a),e.value=i.value)}function z(s){return s.substring(s.lastIndexOf("/")+1,s.lastIndexOf("."))}return(s,a)=>(g(),n(f,null,[o("button",{class:b(["btn",w.buttonClass]),type:"button",onClick:C},[j,m(c(l(r)("Logo")),1)],2),(g(),q(O,{to:"body"},[o("dialog",{class:"image-picker modal",ref_key:"modal",ref:d},[o("div",D,[Q,o("h3",U,c(l(r)("logo_title")),1),o("form",{class:"flex gap-4",id:"logo-form",onSubmit:M(B,["prevent"])},[o("div",E,[(g(!0),n(f,null,N(l(T),t=>(g(),n("label",{class:b(["border rounded-box p-2 cursor-pointer transition-all hover:border-primary active:scale-95",{"border-primary bg-primary/25":l(e)===t}])},[h(o("input",{class:"hidden",type:"radio",name:"logo",value:t,"onUpdate:modelValue":a[0]||(a[0]=F=>y(e)?e.value=F:null)},null,8,W),[[_,l(e)]]),o("img",{class:"block w-full h-full max-w-full",alt:z(t),src:t,loading:"lazy"},null,8,$)],2))),256))]),o("div",A,[o("div",{class:b(["border-2 rounded-box mb-4 flex justify-center items-center aspect-square",{"border-primary":l(e)===l(i)}])},[l(i)?(g(),n("label",G,[h(o("input",{class:"hidden",type:"radio",name:"logo",value:l(i),"onUpdate:modelValue":a[1]||(a[1]=t=>y(e)?e.value=t:null)},null,8,H),[[_,l(e)]]),o("img",{class:"w-full max-w-full max-h-full block rounded-box",src:l(i)},null,8,J)])):(g(),n("i",K))],2),o("label",P,[o("input",{class:"hidden",type:"file",accept:"image/*",onChange:S},null,32),o("span",X,[Y,m(c(l(r)("upload_logo")),1)])])])],32),o("div",Z,[o("button",{class:"btn btn-primary",form:"logo-form",disabled:l(u)},[l(u)?(g(),n("span",so)):(g(),n("i",lo)),m(c(l(r)("use_logo")),1)],8,oo),o("button",{class:"btn btn-ghost",type:"button",onClick:I},c(l(r)("reset_logo")),1)])]),eo],512)]))],64))}});export{io as default};
